!function(a){"use strict";a.module("angularGeopickerApp",["ui.bootstrap","leaflet-directive"])}(angular),function(a){"use strict";var b=a.module("angularGeopickerApp");b.controller("geopickerCtrl",["$scope",function(b){b.map={},a.extend(b.map,{markers:{},events:{map:{enable:["click"],logic:"emit"},markers:{enable:["dragend"],logic:"emit"}}}),b.$on("leafletDirectiveMap.click",function(a,c){b.map.markers.clickedMarker={lat:c.leafletEvent.latlng.lat,lng:c.leafletEvent.latlng.lng,draggable:!0}}),b.$on("leafletDirectiveMarker.dragend",function(a,c){b.map.markers.clickedMarker=c.model})}]),b.directive("angularGeopicker",["geopickerConfig","geopickerFactory",function(a,b){return{template:'<input popover-template="template" popover-placement="bottom" value={{map.markers.clickedMarker|geoFormatter:precision:sep:rad}}></input>',restrict:"A",scope:!0,replace:!0,link:function(c,d,e){var f=function(b){var c=h(a["default"].clat,a["default"].clng);return g(b)&&(c=h(b.clat,b.clng)),c.zoom=a["default"].zoom,c},g=function(a){return"clat"in a&&"clng"in a&&b.isNumber(a.clat)&&b.isNumber(a.clng)&&Number(a.clat)>-90&&Number(a.clat)<90&&Number(a.clng)>-180&&Number(a.clng)<180?!0:!1},h=function(a,b){return{lat:Number(a),lng:Number(b)}};c.template=a.template,c.map.center=f(e),c.precision=b.isNumber(e.precision)===!0?e.precision:a["default"].precision,c.sep=e.sep||a["default"].sep,c.rad=Boolean(e.rad)&&"true"===e.rad?!0:a["default"].rad},controller:"geopickerCtrl"}}])}(angular),function(a){"use strict";var b=a.module("angularGeopickerApp");b.factory("geopickerFactory",[function(){var a={degToRadLat:function(b){return a._shapingDohunWithNS(b)},degToRadLng:function(b){return a._shapingDohunWithWE(b)},roundP:function(a,b){var c=Math.pow(10,b);return a*=c,a=Math.round(a),a/=c},isNumber:function(a){return a=Number(a),a===a&&"[object Number]"===Object.prototype.toString.call(a)},_shapingDohunWithWE:function(b){b=Number(b);var c=b>0?"E":"W";return a._shapingDohun(b)+c},_shapingDohunWithNS:function(b){b=Number(b);var c=b>0?"N":"S";return a._shapingDohun(b)+c},_shapingDohun:function(a){a=Math.abs(Number(a));var b=parseInt(a),c=parseInt(60*(a-b)),d=parseInt(60*(60*(a-b)-c)*1e3)/1e3;return b+"Â°"+c+"'"+d+'"'}};return a}])}(angular),function(a){"use strict";var b=a.module("angularGeopickerApp");b.filter("geoFormatter",["geopickerFactory",function(a){var b=function(b){return"object"==typeof b&&"lat"in b&&"lng"in b&&a.isNumber(b.lat)&&a.isNumber(b.lng)&&Number(b.lat)>-90&&Number(b.lat)<90&&Number(b.lng)>-180&&Number(b.lng)<180?!0:!1};return function(c,d,e,f){d=a.isNumber(d)===!0?d:6,e=e||",",f=Boolean(f)||"true"===f?!0:!1;var g="";if(b(c)){var h=a.roundP(c.lat,d).toFixed(d),i=a.roundP(c.lng,d).toFixed(d);f&&(h=a.degToRadLat(h),i=a.degToRadLng(i)),g=h+e+i}return g}}])}(angular),function(a){"use strict";var b=a.module("angularGeopickerApp");b.constant("geopickerConfig",{template:"views/angular-geopicker.tmpl.html","default":{clat:35.689487,clng:139.691706,zoom:10,precision:6,sep:",",rad:!1}})}(angular),angular.module("angularGeopickerApp").run(["$templateCache",function(a){"use strict";a.put("views/angular-geopicker.tmpl.html",'<leaflet id="angular-geopicker-directive-only" center="map.center" markers="map.markers" event-broadcast="map.events" height="250px" width="250px"></leaflet>')}]);